<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>
      
        Express-validator middleware -- 
      
      Yes, But How?
    </title>
    
      <link rel="canonical" href=https://3dvkr.github.io/posts/express-validator/>
    
    <link href="https://unpkg.com/prismjs@1.20.0/themes/prism-okaidia.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/style.css">
    <script async data-respect-dnt src="https://cdn.splitbee.io/sb.js"></script>
  </head>
  <body>
    <header>
    <nav aria-label="Primary">
        <a href="/" class="site_title"><h1>Yes, But How?</h1></a>
        <ul class="nav-list">
            
            <li>
              <a href="/about/">About</a>
            </li>
            
            <li>
              <a href="/tags/">Tags</a>
            </li>
            
        </ul>
    </nav>
</header>
    <main tabindex="-1" id="main-content">
      

<h2>Express-validator middleware</h2>
<p class="date">Thu Sep 23 2021</p>
<p>Tags: 
    
        <a href="/tags/#javascript">javascript</a>
    
</p>
<p>Rough notes to poke and prod at what this package does.</p>
<h2>Where is this code from?</h2>
<p>This code is from a project covered in a tutorial for server-side authentication, where the main focus was not <code>express-validator</code>. The project followed an MVC pattern, and used Node, Express, Mongoose and JWTs. These are my rough notes from exploring the express-validator middleware. Some of the code in these notes is there to peer into what the middleware functions are doing, rather than to work towards the overall server-side project.</p>
<h2>Creating the schema using mongoose</h2>
<p>In <code>model/User.js</code>:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> <span class="token punctuation">{</span> Schema<span class="token punctuation">,</span> model <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mongoose'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token keyword">const</span> UserSchema <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Schema</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br> username<span class="token operator">:</span> <span class="token punctuation">{</span><br>     required<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><br>     type<span class="token operator">:</span> String<span class="token punctuation">,</span><br>     unique<span class="token operator">:</span> <span class="token boolean">true</span><br> <span class="token punctuation">}</span><span class="token punctuation">,</span><br> password<span class="token operator">:</span> <span class="token punctuation">{</span><br>     required<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><br>     type<span class="token operator">:</span> String<br> <span class="token punctuation">}</span><span class="token punctuation">,</span><br> email<span class="token operator">:</span> <span class="token punctuation">{</span><br>     required<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><br>     type<span class="token operator">:</span> String<br> <span class="token punctuation">}</span><span class="token punctuation">,</span><br><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> timestamps<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">model</span><span class="token punctuation">(</span><span class="token string">'User'</span><span class="token punctuation">,</span> UserSchema<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>Note that we decide rules and structure with the schema. When we compile the schema (<code>model('User', UserSchema);</code>), we're using the schema to make a model. The model is the interface to the database for CRUD operations.</p>
<h2>Setting up server-side validation</h2>
<p>We'll need the schema from the last section and the express-validator package. From its website, Express Validator is a set of Express.js middleware that wraps validator.js, a library that provides <em>validator</em> and <em>sanitizer</em> functions. Write this in the <code>routes/user.js</code> file:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"express"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> <span class="token punctuation">{</span> check<span class="token punctuation">,</span> validationResult <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"express-validator"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <br><br><span class="token keyword">const</span> router <span class="token operator">=</span> express<span class="token punctuation">.</span><span class="token function">Router</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>After this, write a function to check if the route is working (same file):</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">checkRoute</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'express-validator#contexts'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
<p>What we're doing with this function is seeing if the <code>req</code> object has a certain property or key. It won't, because we'll call this function before the validator middleware runs, i.e. before <code>express-validator</code> does its checks on the data we're submitting.</p>
<p>Then we add the main post route that we actually care about:</p>
<pre class="language-javascript"><code class="language-javascript">router<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><br>  <span class="token string">"/user"</span><span class="token punctuation">,</span> <span class="token comment">// this is the path for this post route</span><br>  <span class="token punctuation">[</span><br>    checkRoute<span class="token punctuation">,</span> <span class="token comment">// here's where we check</span><br>    <span class="token function">check</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isEmail</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token function">check</span><span class="token punctuation">(</span><span class="token string">"password"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isLength</span><span class="token punctuation">(</span><span class="token punctuation">{</span> min<span class="token operator">:</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>  <span class="token punctuation">]</span><span class="token punctuation">,</span><br>  <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>    <span class="token comment">// These two lines can give us insight on the validator API; see notes below</span><br>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'express-validator#contexts'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <br>    <span class="token comment">// ^ same line from the `checkRoutes` function, which now says 'true'</span><br>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>req<span class="token punctuation">[</span><span class="token string">'express-validator#contexts'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>_errors<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token keyword">const</span> errors <span class="token operator">=</span> <span class="token function">validationResult</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>errors<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">422</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> errors<span class="token operator">:</span> errors<span class="token punctuation">.</span><span class="token function">array</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> router<span class="token punctuation">;</span></code></pre>
<p>Some notes about this:</p>
<ol>
<li><code>check()</code> is from the Check API of the express-validator package. It takes in two optional parameters: the field name, and a string which it can use instead of the default &quot;Invalid value&quot; error message.</li>
<li>The <code>.isEmail</code> and <code>.isLength</code> methods are making use of the Validator <em>Chain</em> API of the express-validator package. When we tack on these methods after the <code>check(...)</code>'s, we're checking if the values meet certain criteria--either in-built into the method or by passing in more parameters, like <code>{ min: 5 }</code>.</li>
<li>After the validation, the <code>req</code> object has the <code>'express-validator#contexts'</code> property. Before the validation, it does not. This property holds the outcomes of the checks:</li>
</ol>
<pre><code>   [
  Context {
    fields: [ 'username' ],
    locations: [ 'body', 'cookies', 'headers', 'params', 'query' ],
    stack: [ [StandardValidation] ],
    optional: false,
    message: undefined,
    _errors: [ [Object] ],
    dataMap: Map(5) {
      'body:username' =&gt; [Object],
      'cookies:username' =&gt; [Object],
      'headers:username' =&gt; [Object],
      'params:username' =&gt; [Object],
      'query:username' =&gt; [Object]
    }
  },
  Context {
    fields: [ 'password' ],
    locations: [ 'body', 'cookies', 'headers', 'params', 'query' ],
    stack: [ [StandardValidation] ],
    optional: false,
    message: undefined,
    _errors: [ [Object] ],
    dataMap: Map(5) {
      'body:password' =&gt; [Object],
      'cookies:password' =&gt; [Object],
      'headers:password' =&gt; [Object],
      'params:password' =&gt; [Object],
      'query:password' =&gt; [Object]
    }
  }
]
</code></pre>
<p>Going into the first element of the array above, the <code>_errors</code> property looks like this:</p>
<pre><code>[
  {
    value: undefined,
    msg: 'Invalid value',
    param: 'username',
    location: 'body'
  }
]
</code></pre>
<ol start="4">
<li></li>
</ol>
<p>The <code>errors</code> object looks like this when we do a POST request with no input email and password</p>
<pre><code>Result {
  formatter: [Function: formatter],
  errors: [
    {
      value: undefined,
      msg: 'Invalid value',
      param: 'username',
      location: 'body'
    },
    {
      value: undefined,
      msg: 'Invalid value',
      param: 'password',
      location: 'body'
    }
  ]
}
</code></pre>
<h2>Adding the user route</h2>
<p>In <code>routes/user.js</code>, add these lines at the top:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token comment">// other imports</span><br><span class="token keyword">const</span> bcrypt <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"bcryptjs"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token keyword">const</span> User <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"../model/User"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>In the <code>/signup</code> POST route, we'll:</p>
<ol>
<li>change the last callback function into an async function</li>
<li>extract the three pieces of information we need about a new user</li>
<li>search to see if a user with that email already exists in our database</li>
<li>make a new instance of the model <code>User</code> with the username, email and password provided from the POST request</li>
<li>salt and hash the password using <code>bcryptjs</code></li>
<li>save the user with the hashed password.</li>
<li>Authentication, e.g. JWT</li>
<li>error handling</li>
</ol>
<p>Here's the callback function</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span> <span class="token comment">// (#1) change to async because </span><br>                    <span class="token comment">//we need to await the database looking up a user</span><br>    <span class="token keyword">const</span> errors <span class="token operator">=</span> <span class="token function">validationResult</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>errors<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">422</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> errors<span class="token operator">:</span> errors<span class="token punctuation">.</span><span class="token function">array</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>    <span class="token comment">// (#2) we'll expect the HTTP request to send the following data:</span><br>    <span class="token keyword">const</span> <span class="token punctuation">{</span> username<span class="token punctuation">,</span> email<span class="token punctuation">,</span> password <span class="token punctuation">}</span> <span class="token operator">=</span> req<span class="token punctuation">.</span>body<span class="token punctuation">;</span><br><br>    <span class="token keyword">try</span> <span class="token punctuation">{</span><br>      <span class="token comment">// (#3) check if user already exists</span><br>      <span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token keyword">await</span> User<span class="token punctuation">.</span><span class="token function">findOne</span><span class="token punctuation">(</span><span class="token punctuation">{</span> email <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token keyword">if</span> <span class="token punctuation">(</span>user<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> message<span class="token operator">:</span> <span class="token string">"User already exists"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token punctuation">}</span><br><br>      <span class="token comment">// (#4) if user does not exist, we've already declared the user </span><br>        <span class="token comment">// variable, which would be undefined</span><br>        <span class="token comment">// so we can reassign it to a new user, created from the User model:</span><br>      user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">{</span> username<span class="token punctuation">,</span> email<span class="token punctuation">,</span> password <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>      <span class="token comment">// (#5) do *not* save the user yet. We need to hash the password first:</span><br>        <span class="token comment">// first generate the salt, then generate the hash:</span><br>      <span class="token keyword">const</span> salt <span class="token operator">=</span> <span class="token keyword">await</span> bcrypt<span class="token punctuation">.</span><span class="token function">genSalt</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token keyword">const</span> hashedPassword <span class="token operator">=</span> <span class="token keyword">await</span> bcrypt<span class="token punctuation">.</span><span class="token function">hash</span><span class="token punctuation">(</span>password<span class="token punctuation">,</span> salt<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>      <span class="token comment">// then assign the new hashed password to user.password:</span><br>      user<span class="token punctuation">.</span>password <span class="token operator">=</span> hashedPassword<span class="token punctuation">;</span><br><br>      <span class="token comment">// (#6) save the user to the database:</span><br>      <span class="token keyword">await</span> user<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>      <span class="token comment">// (#7) TODO: JWT code goes here.</span><br>    <br>      <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> message<span class="token operator">:</span> <span class="token string">"User created successfully"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token comment">// (#8) error handling:</span><br>    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"><br>            user account error:<br>            </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>err<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"><br>        </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>  <span class="token punctuation">}</span></code></pre>
<p>Here's the <strong>same</strong> function without all the comments:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span> <br>    <span class="token keyword">const</span> errors <span class="token operator">=</span> <span class="token function">validationResult</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>errors<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">422</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> errors<span class="token operator">:</span> errors<span class="token punctuation">.</span><span class="token function">array</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>    <span class="token keyword">const</span> <span class="token punctuation">{</span> username<span class="token punctuation">,</span> email<span class="token punctuation">,</span> password <span class="token punctuation">}</span> <span class="token operator">=</span> req<span class="token punctuation">.</span>body<span class="token punctuation">;</span><br><br>    <span class="token keyword">try</span> <span class="token punctuation">{</span><br>      <span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token keyword">await</span> User<span class="token punctuation">.</span><span class="token function">findOne</span><span class="token punctuation">(</span><span class="token punctuation">{</span> email <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token keyword">if</span> <span class="token punctuation">(</span>user<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> message<span class="token operator">:</span> <span class="token string">"User already exists"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token punctuation">}</span><br><br>      user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">{</span> username<span class="token punctuation">,</span> email<span class="token punctuation">,</span> password <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token keyword">const</span> salt <span class="token operator">=</span> <span class="token keyword">await</span> bcrpt<span class="token punctuation">.</span><span class="token function">genSalt</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token keyword">const</span> hashedPassword <span class="token operator">=</span> <span class="token keyword">await</span> bcrypt<span class="token punctuation">.</span><span class="token function">hash</span><span class="token punctuation">(</span>password<span class="token punctuation">,</span> salt<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>      user<span class="token punctuation">.</span>password <span class="token operator">=</span> hashedPassword<span class="token punctuation">;</span><br>      <span class="token keyword">await</span> user<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>      <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> message<span class="token operator">:</span> <span class="token string">"User created successfully"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"><br>            user account error:<br>            </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>err<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"><br>        </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>  <span class="token punctuation">}</span></code></pre>


<p>Thanks for reading! I hope it was useful. I'd love to hear your thoughts over on <a href=https://twitter.com/_dvkr>Twitter</a>.</p>

    </main>

  </body>
</html>
