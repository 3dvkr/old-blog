<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>
      
        JavaScript Part 3: Playing Rock-Paper-Scissors-Lizard-Spock -- 
      
      Yes, But How?
    </title>
    
      <link rel="canonical" href=https://3dvkr.github.io/posts/js-part3/>
    
    <link href="https://unpkg.com/prismjs@1.20.0/themes/prism-okaidia.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/style.css">
    <script async data-respect-dnt src="https://cdn.splitbee.io/sb.js"></script>
  </head>
  <body>
    <header>
    <nav aria-label="Primary">
        <a href="/" class="site_title"><h1>Yes, But How?</h1></a>
        <ul class="nav-list">
            
            <li>
              <a href="/about/">About</a>
            </li>
            
            <li>
              <a href="/tags/">Tags</a>
            </li>
            
        </ul>
    </nav>
</header>
    <main tabindex="-1" id="main-content">
      

<h2>JavaScript Part 3: Playing Rock-Paper-Scissors-Lizard-Spock</h2>
<p class="date">Tue Mar 09 2021</p>
<p>Tags: 
    
        <a href="/tags/#javascript">javascript</a>
    
</p>
<p>This is an example of writing JavaScript code, using syntax covered in Parts 1 and 2.</p>
<p>Conditional logic is one of the most universal concepts in programming. Conditionals let us gate off sections of code, and these sections only run if the condition is met. For simple conditions, the well-worn if-else statement works.</p>
<p>But what happens when we want multiple conditions to be true? We can either have multiple nested if-statements, or we can stitch the conditions with the AND operator (<code>&amp;&amp;</code>) or the OR operator (<code>||</code>). Both options are difficult to write and difficult to read--it's probably just as difficult to maintain. This tutorial will explore an alternative to the well-known if-else structure: we're going to use an object's key-value pairs.</p>
<h2>...by playing Rock-Paper-Scissors-Lizard-Spock?</h2>
<p>We'll start with setting up the simpler Rock-Paper-Scissors, and we'll put it together the long way. Two players choose between rock, paper, and scissors. Here are the win-conditions:</p>
<ul>
<li>rock beats scissors</li>
<li>scissors beats paper</li>
<li>paper beats rock</li>
</ul>
<h2>Rock-Paper-Scissors using <code>if</code> / <code>else if</code> / <code>else</code></h2>
<p>In our game, the player will be competing with a bot. We have two tasks to perform: choosing a move for the bot, and determining the winner. We will need to write two functions. To choose a move, we'll have <code>Math.random</code> return a number and then use conditional statements to return a move based on that number.</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">rockPaperScissors</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">let</span> randomNum <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">&lt;</span> <span class="token number">.3333</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token string">'rock'</span><span class="token punctuation">}</span><br>  <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">&lt;</span> <span class="token number">.6666</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token string">'paper'</span><span class="token punctuation">}</span><br>  <span class="token keyword">else</span> <span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token string">'scissors'</span><span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
<p>The winner will be chosen when we actually play the game. We'll do this with our second function. The player will start a new game by calling this function and passing in one of the options as a string (e.g. <code>rpsPlay('rock')</code>).</p>
<p>We'll call the <code>rockPaperScissors</code> function to choose a move for the bot, and display the bot's 'choice' to the player in the console. There are three outcomes when we compare the player's choice to the bot's choice: they chose the same move (a tie), the player won, or the player lost (see win conditions in the previous section). Here's what that looks like:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">playRPS</span><span class="token punctuation">(</span><span class="token parameter">playChoice</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">let</span> botChoice <span class="token operator">=</span> <span class="token function">rockPaperScissors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Bot's choice is : "</span> <span class="token operator">+</span> botChoice<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">if</span> <span class="token punctuation">(</span>botChoice <span class="token operator">==</span> playChoice<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token string">"TIE"</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><br>    <span class="token punctuation">(</span>botChoice <span class="token operator">==</span> <span class="token string">"rock"</span> <span class="token operator">&amp;&amp;</span> playChoice <span class="token operator">==</span> <span class="token string">"paper"</span><span class="token punctuation">)</span> <span class="token operator">||</span><br>    <span class="token punctuation">(</span>botChoice <span class="token operator">==</span> <span class="token string">"paper"</span> <span class="token operator">&amp;&amp;</span> playChoice <span class="token operator">==</span> <span class="token string">"scissors"</span><span class="token punctuation">)</span> <span class="token operator">||</span><br>    <span class="token punctuation">(</span>botChoice <span class="token operator">==</span> <span class="token string">"scissors"</span> <span class="token operator">&amp;&amp;</span> playChoice <span class="token operator">==</span> <span class="token string">"rock"</span><span class="token punctuation">)</span><br>  <span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token string">"WIN"</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token string">"LOSE"</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
<p>The first condition (<code>botChoice == playChoice</code>) compares two strings--the two moves--and this is enough to decide that the game results in a tie. The else-statement doesn't have a condition, because it's the code that runs if none of the previous conditions are true. Now we turn to the win-conditions in the <code>else if</code>-statement. There are three moves that our player can choose from, and each option has only one corresponding move that it can beat. This leaves us with 3 * 1 conditions, and we stitch them together with the two logical operators.</p>
<p>To help with readability, this <code>else if</code> condition goes on for three lines, with extra brackets, even though the AND operator operates before the OR operator.</p>
<h2>Should we try this strategy for Rock-Paper-Scissors-Lizard-Spock?</h2>
<p>Here are the new win-conditions:</p>
<ul>
<li>rock beats scissors or lizard</li>
<li>paper beats rock or spock</li>
<li>scissors beats rock or lizard</li>
<li>lizard beats paper or spock</li>
<li>spock beats scissors or rock</li>
</ul>
<p>Now, there are five moves that our player can choose from, and each option has two corresponding move that it can beat. We can write 5 * 2--that's <em>ten</em>--lines in that <code>else if</code> condition, or we could use objects to reduce all that code to one line.</p>
<h2>Rewriting <code>rpsPlay</code> with objects</h2>
<p>To rewrite our <code>rpsPlay</code> function, we'll introduce an object before the conditional expressions with three key-value pairs. We'll use the player's choice as the key names, and the corresponding values will be the bot's choice that will lead to the player winning the game.</p>
<p>This is the object with the list of win-conditions:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">let</span> winObj <span class="token operator">=</span> <span class="token punctuation">{</span><br>  rock<span class="token operator">:</span> <span class="token string">"scissors"</span><span class="token punctuation">,</span><br>  paper<span class="token operator">:</span> <span class="token string">"rock"</span><span class="token punctuation">,</span><br>  scissors<span class="token operator">:</span> <span class="token string">"paper"</span><span class="token punctuation">,</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>To 'search' for the pair of moves where the player wins, we can 'search' what the bot needs to play by putting the player's move in square brackets, e.g. <code>winObj['rock']</code>. This evaluates to <code>'scissors'</code>. We can now use the player's choice to look up the required opposing move for the player to win, and compare it to what the bot actually chose.</p>
<p>Here is the function with the object added, and the <code>else if</code> condition modified:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">playRPS</span><span class="token punctuation">(</span><span class="token parameter">choice</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">let</span> botChoice <span class="token operator">=</span> <span class="token function">rockPaperScissors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Bot's choice is : "</span> <span class="token operator">+</span> botChoice<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token keyword">let</span> winObj <span class="token operator">=</span> <span class="token punctuation">{</span><br>    rock<span class="token operator">:</span> <span class="token string">"scissors"</span><span class="token punctuation">,</span><br>    paper<span class="token operator">:</span> <span class="token string">"rock"</span><span class="token punctuation">,</span><br>    scissors<span class="token operator">:</span> <span class="token string">"paper"</span><span class="token punctuation">,</span><br>  <span class="token punctuation">}</span><span class="token punctuation">;</span><br><br>  <span class="token keyword">if</span> <span class="token punctuation">(</span>botChoice <span class="token operator">==</span> choice<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token string">"TIE"</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>winObj<span class="token punctuation">[</span>choice<span class="token punctuation">]</span> <span class="token operator">==</span> botChoice<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token string">"WIN"</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token string">"LOSE"</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
<h2>Applying the new strategy to Rock-Paper-Scissors-Lizard-Spock</h2>
<p>For Rock-Paper-Scissors-Lizard-Spock, we'll write out the two functions again. Our first function, which chooses the bot's move, needs the two new options added to it:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">let</span> <span class="token function-variable function">rpsls</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>    <span class="token keyword">let</span> num <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">&lt;</span> <span class="token number">.2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token string">'rock'</span><span class="token punctuation">}</span><br>    <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">&lt;</span> <span class="token number">.4</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token string">'paper'</span><span class="token punctuation">}</span><br>    <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">&lt;</span> <span class="token number">.6</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token string">'scissors'</span><span class="token punctuation">}</span><br>    <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">&lt;</span> <span class="token number">.8</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token string">'lizard'</span><span class="token punctuation">}</span><br>    <span class="token keyword">else</span> <span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token string">'spock'</span><span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
<p>For the second function, copy the code from the end of the previous section and rename the function as <code>playRPSLS</code>. We'll replace the old <code>rockPaperScissors</code> function in the first line with our new function name, and write a comment in place of the lines we need to change:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">playRPSLS</span><span class="token punctuation">(</span><span class="token parameter">choice</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">let</span> botChoice <span class="token operator">=</span> <span class="token function">rpsls</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Bot's choice is : "</span> <span class="token operator">+</span> botChoice<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token comment">// declare and define winObj</span><br><br>  <span class="token keyword">if</span> <span class="token punctuation">(</span>botChoice <span class="token operator">==</span> choice<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token string">"TIE"</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><br>      <span class="token comment">// new condition</span><br>  <span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token string">"WIN"</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token string">"LOSE"</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
<p>The <code>winObj</code> we defined in <code>playRPS</code> had string-types as its values, because we only had to check one possible value. In <code>playRPSLS</code>, we will need to check for two options. This means we'll change each value in <code>winObj</code> to be an array with two strings. Here is the new <code>winObj</code>:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">let</span> winObj <span class="token operator">=</span> <span class="token punctuation">{</span><br>  rock<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'scissors'</span><span class="token punctuation">,</span> <span class="token string">'lizard'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><br>  paper<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'rock'</span><span class="token punctuation">,</span> <span class="token string">'spock'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><br>  scissors<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'rock'</span><span class="token punctuation">,</span> <span class="token string">'lizard'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><br>  lizard<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'paper'</span><span class="token punctuation">,</span> <span class="token string">'spock'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><br>  spock<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'scissors'</span><span class="token punctuation">,</span> <span class="token string">'rock'</span><span class="token punctuation">]</span><br><span class="token punctuation">}</span></code></pre>
<p>If the bot's choice matches <em>either</em> option, that means our player wins. We find the relevant array as we did in the previous section: <code>winObj[choice]</code>. We can check if the bot's choice is one of the strings in the array using the <code>.includes</code> method. This is the final <code>playRPSLS</code> function:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">let</span> <span class="token function-variable function">playRPSLS</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">choice</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  <span class="token keyword">let</span> botChoice <span class="token operator">=</span> <span class="token function">rpsls</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token keyword">let</span> winObj <span class="token operator">=</span> <span class="token punctuation">{</span><br>    rock<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"scissors"</span><span class="token punctuation">,</span> <span class="token string">"lizard"</span><span class="token punctuation">]</span><span class="token punctuation">,</span><br>    paper<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"rock"</span><span class="token punctuation">,</span> <span class="token string">"spock"</span><span class="token punctuation">]</span><span class="token punctuation">,</span><br>    scissors<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"rock"</span><span class="token punctuation">,</span> <span class="token string">"lizard"</span><span class="token punctuation">]</span><span class="token punctuation">,</span><br>    lizard<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"paper"</span><span class="token punctuation">,</span> <span class="token string">"spock"</span><span class="token punctuation">]</span><span class="token punctuation">,</span><br>    spock<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"scissors"</span><span class="token punctuation">,</span> <span class="token string">"rock"</span><span class="token punctuation">]</span><span class="token punctuation">,</span><br>  <span class="token punctuation">}</span><span class="token punctuation">;</span><br><br>  <span class="token keyword">if</span> <span class="token punctuation">(</span>choice <span class="token operator">==</span> botChoice<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token string">"TIE"</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>winObj<span class="token punctuation">[</span>choice<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>botChoice<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token string">"WIN"</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token string">"LOSE"</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2>Playing a game of Rock-Paper-Scissors-Lizard-Spock</h2>
<p>To play either game, we'll call the second function (<code>playRPS</code> or <code>playRPSLS</code>). In order to display the value it returns, we'll write the function call inside <code>console.log</code>. After the first and second function are defined in your console or written in your .js file, run <code>console.log(playRPSLS('rock'));</code>. You can replace <code>'rock'</code> with another choice. You can also have two bots play against each other--that is, having two random choices face off--by calling the first function inside the second function, and printing it: <code>console.log(playRPSLS(rpsls()));</code>. One way to extend your skills beyond this tutorial is to handle error-checking, as any typos result in an error.</p>


<p>Thanks for reading! I hope it was useful. I'd love to hear your thoughts over on <a href=https://twitter.com/_dvkr>Twitter</a>.</p>

    </main>

  </body>
</html>
